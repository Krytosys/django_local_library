{% extends "base_generic.html" %}

{% block content %}
    <h1 id="profileTitle"><div id="profileTitleName">{{ user.get_username }}'s</div> Profile Page</h1>

    <!-- Place Holders -->

    <ul id="profileInfoList">
        <li>
            <h5>First Name: {{ user.profile.first_name }}</h5>
            <h5>Last Name: {{ user.profile.last_name }}</h5>
        </li>
        <li>
            <h5>Email: {{ user.profile.email }}</h5>
            <h5>ID: {{ user.profile.idno }}</h5>
        </li>
        <li>
            <br>
            <br>
        </li>
        <li>
            <br>
        </li>
    </ul>

    <ul id="profileBooksList">
        <li>
            <h1>Borrowed Books</h1>
            <div id="profileBorrowed">
                

                {% if bookinstance_list %}
                <ul>
                    {% for bookinst in bookinstance_list %}
                    <li class="{% if bookinst.is_overdue %}text-danger{% endif %}">
                        <a href="{% url 'book-detail' bookinst.book.pk %}">{{ bookinst.book.title }}</a> ({{ bookinst.due_back }})
                    </li>
                    {% endfor %}
                </ul>
            
                {% else %}
                    <p>There are no books borrowed.</p>
                {% endif %}
            </div>
            
        </li>
        <li>
            <h1>Returned Books</h1>
            <div id="profileReturned">
                

                {% if bookinstance_list %}
                <ul>
                    {% for bookinst in bookinstance_list %}
                    <li class="{% if bookinst.is_overdue %}text-danger{% endif %}">
                        <a href="{% url 'book-detail' bookinst.book.pk %}">{{ bookinst.book.title }}</a> ({{ bookinst.due_back }})
                    </li>
                    {% endfor %}
                </ul>
            
                {% else %}
                    <p>There are no books borrowed.</p>
                {% endif %}
            </div>
            
        </li>
    </ul>
    
    
    <div id="profileReviews">
        <h1>Reviews</h1>
        <div id="profileScroll">
            {% if bookinstance_list %}
            <ul>
                {% for bookinst in bookinstance_list %}
                <li class="{% if bookinst.is_overdue %}text-danger{% endif %}">
                    <a href="{% url 'book-detail' bookinst.book.pk %}">{{ bookinst.book.title }}</a> ({{ bookinst.due_back }})
                </li>
                {% endfor %}
            </ul>
        
            {% else %}
                <p>No reviews posted.</p>
            {% endif %}
        </div>
        
    </div>
    

    <a href="{% url 'password_reset' %}" id="profileButtons">Change Password</a>

    <a href="{% url 'logout' %}?next={{request.path}}" id="profileButtons">Logout</a>

    
{% endblock %}

{% block title %}
    <title>Nowledge | Profile</title>
{% endblock %}